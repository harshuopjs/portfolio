import{x as e,k as t,m as a,y as r,z as l}from"../_/nitro.mjs";import{b as i,u,r as n,c as o,n as s,d as v}from"./server.mjs";import{e as d,r as c,l as f,a9 as h,k as p}from"../routes/renderer.mjs";function defineNuxtLink(r){const l=r.componentName||"NuxtLink";function isHashLinkWithoutHashMode(e){return"string"==typeof e&&e.startsWith("#")}function resolveTrailingSlashBehavior(e,t){if(!e||"append"!==r.trailingSlash&&"remove"!==r.trailingSlash)return e;if("string"==typeof e)return applyTrailingSlashBehavior(e,r.trailingSlash);const a="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:applyTrailingSlashBehavior(a,r.trailingSlash)}}function useNuxtLink(e){var r,l,u;const v=i(),d=o(),c=p((()=>!!e.target&&"_self"!==e.target)),f=p((()=>{const a=e.to||e.href||"";return"string"==typeof a&&t(a,{acceptRelative:!0})})),g=h("RouterLink"),y="string"!=typeof g?g.useLink:void 0,m=p((()=>{if(e.external)return!0;const t=e.to||e.href||"";return"object"!=typeof t&&(""===t||f.value)})),x=p((()=>{const t=e.to||e.href||"";return m.value?t:resolveTrailingSlashBehavior(t,v.resolve)})),S=m.value||null==y?void 0:y({...e,to:x}),q=p((()=>{var e,t;if(!x.value||f.value||isHashLinkWithoutHashMode(x.value))return x.value;if(m.value){const e="object"==typeof x.value&&"path"in x.value?n(x.value):x.value;return resolveTrailingSlashBehavior("object"==typeof e?v.resolve(e).href:e,v.resolve)}return"object"==typeof x.value?null!=(e=null==(t=v.resolve(x.value))?void 0:t.href)?e:null:resolveTrailingSlashBehavior(a(d.app.baseURL,x.value),v.resolve)}));return{to:x,hasTarget:c,isAbsoluteUrl:f,isExternal:m,href:q,isActive:null!=(r=null==S?void 0:S.isActive)?r:p((()=>x.value===v.currentRoute.value.path)),isExactActive:null!=(l=null==S?void 0:S.isExactActive)?l:p((()=>x.value===v.currentRoute.value.path)),route:null!=(u=null==S?void 0:S.route)?u:p((()=>v.resolve(x.value))),async navigate(){await s(q.value,{replace:e.replace,external:m.value||c.value})}}}return d({name:l,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:useNuxtLink,setup(t,{slots:a}){i();const{to:l,href:n,navigate:o,isExternal:s,hasTarget:v,isAbsoluteUrl:d}=useNuxtLink(t);c(!1);async function prefetch(e=u()){}return()=>{var i;if(!s.value&&!v.value&&!isHashLinkWithoutHashMode(l.value)){const e={ref:undefined,to:l.value,activeClass:t.activeClass||r.activeClass,exactActiveClass:t.exactActiveClass||r.exactActiveClass,replace:t.replace,ariaCurrentValue:t.ariaCurrentValue,custom:t.custom};return t.custom||(e.rel=t.rel||void 0),f(h("RouterLink"),e,a.default)}const u=t.target||null,c=((...e)=>e.find((e=>void 0!==e)))(t.noRel?"":t.rel,r.externalRelAttribute,d.value||v.value?"noopener noreferrer":"")||null;return t.custom?a.default?a.default({href:n.value,navigate:o,prefetch:prefetch,get route(){if(!n.value)return;const t=new URL(n.value,"http://localhost");return{path:t.pathname,fullPath:t.pathname,get query(){return e(t.search)},hash:t.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:n.value}},rel:c,target:u,isExternal:s.value||v.value,isActive:!1,isExactActive:!1}):null:f("a",{ref:undefined,href:n.value||null,rel:c,target:u},null==(i=a.default)?void 0:i.call(a))}}})}const g=defineNuxtLink(v);function applyTrailingSlashBehavior(e,a){const i="append"===a?r:l;return t(e)&&!e.startsWith("http")?e:i(e,!0)}export{g as _};
//# sourceMappingURL=nuxt-link-OamEcbZr.mjs.map
